# -*- mode: python -*-

Import('env')

env = env.Clone()

env.Prepend(CPPPATH=[
    'include',
])

env.InjectThirdParty(libraries=['aws-c-common','aws-checksums','aws-c-event-stream'])
env.Library(
    target="aws-sdk-core",
    source= [
        "source/AmazonSerializableWebServiceRequest.cpp",
        "source/AmazonStreamingWebServiceRequest.cpp",
        "source/AmazonWebServiceRequest.cpp",
        "source/Aws.cpp",
        "source/Globals.cpp",
        "source/Region.cpp",
        "source/Version.cpp",
        "source/auth/AWSAuthSigner.cpp",
        "source/auth/AWSAuthSignerProvider.cpp",
        "source/auth/AWSCredentialsProvider.cpp",
        "source/auth/AWSCredentialsProviderChain.cpp",
        "source/auth/STSCredentialsProvider.cpp",
        "source/client/AsyncCallerContext.cpp",
        "source/client/AWSClient.cpp",
        "source/client/AWSErrorMarshaller.cpp",
        "source/client/ClientConfiguration.cpp",
        "source/client/CoreErrors.cpp",
        "source/client/DefaultRetryStrategy.cpp",
        "source/client/RetryStrategy.cpp",
        "source/client/SpecifiedRetryableErrorsRetryStrategy.cpp",
        "source/config/AWSProfileConfigLoader.cpp",
        "source/external/cjson/cJSON.cpp",
        "source/external/tinyxml2/tinyxml2.cpp",
        "source/http/HttpClient.cpp",
        "source/http/HttpClientFactory.cpp",
        "source/http/HttpRequest.cpp",
        "source/http/HttpTypes.cpp",
        "source/http/Scheme.cpp",
        "source/http/URI.cpp",
#        "source/http/curl/CurlHandleContainer.cpp",
#        "source/http/curl/CurlHttpClient.cpp",
        "source/http/standard/StandardHttpRequest.cpp",
        "source/http/standard/StandardHttpResponse.cpp",
#        "source/http/windows/IXmlHttpRequest2HttpClient.cpp",
#        "source/http/windows/WinConnectionPoolMgr.cpp",
#        "source/http/windows/WinHttpConnectionPoolMgr.cpp",
#        "source/http/windows/WinHttpSyncHttpClient.cpp",
#        "source/http/windows/WinINetConnectionPoolMgr.cpp",
#        "source/http/windows/WinINetSyncHttpClient.cpp",
#        "source/http/windows/WinSyncHttpClient.cpp",
        "source/internal/AWSHttpResourceClient.cpp",
        "source/monitoring/DefaultMonitoring.cpp",
        "source/monitoring/HttpClientMetrics.cpp",
        "source/monitoring/MonitoringManager.cpp",
        "source/net/Net.cpp",
        "source/net/SimpleUDP.cpp",
#        "source/net/linux-shared/Net.cpp",
#        "source/net/linux-shared/SimpleUDP.cpp",
        "source/net/windows/Net.cpp",
        "source/net/windows/SimpleUDP.cpp",
#        "source/platform/android/Environment.cpp",
#        "source/platform/android/FileSystem.cpp",
#        "source/platform/android/LogcatLogSystem.cpp",
#        "source/platform/android/OSVersionInfo.cpp",
#        "source/platform/android/Platform.cpp",
#        "source/platform/android/Security.cpp",
#        "source/platform/android/Time.cpp",
#        "source/platform/linux-shared/Environment.cpp",
#        "source/platform/linux-shared/FileSystem.cpp",
#        "source/platform/linux-shared/OSVersionInfo.cpp",
#        "source/platform/linux-shared/Security.cpp",
#        "source/platform/linux-shared/Time.cpp",
        "source/platform/windows/Environment.cpp",
        "source/platform/windows/FileSystem.cpp",
        "source/platform/windows/OSVersionInfo.cpp",
        "source/platform/windows/Security.cpp",
        "source/platform/windows/Time.cpp",
        "source/utils/ARN.cpp",
        "source/utils/Array.cpp",
        "source/utils/DateTimeCommon.cpp",
        "source/utils/Directory.cpp",
        "source/utils/DNS.cpp",
        "source/utils/EnumParseOverflowContainer.cpp",
        "source/utils/FileSystemUtils.cpp",
        "source/utils/GetTheLights.cpp",
        "source/utils/HashingUtils.cpp",
        "source/utils/StringUtils.cpp",
        "source/utils/TempFile.cpp",
        "source/utils/UUID.cpp",
        "source/utils/base64/Base64.cpp",
        "source/utils/crypto/Cipher.cpp",
        "source/utils/crypto/ContentCryptoMaterial.cpp",
        "source/utils/crypto/ContentCryptoScheme.cpp",
        "source/utils/crypto/CryptoBuf.cpp",
        "source/utils/crypto/CryptoStream.cpp",
        "source/utils/crypto/EncryptionMaterials.cpp",
        "source/utils/crypto/KeyWrapAlgorithm.cpp",
        "source/utils/crypto/MD5.cpp",
        "source/utils/crypto/Sha256.cpp",
        "source/utils/crypto/Sha256HMAC.cpp",
        "source/utils/crypto/bcrypt/CryptoImpl.cpp",
#        "source/utils/crypto/commoncrypto/CryptoImpl.cpp",
        "source/utils/crypto/factory/Factories.cpp",
#        "source/utils/crypto/openssl/CryptoImpl.cpp",
        "source/utils/event/EventDecoderStream.cpp",
        "source/utils/event/EventEncoderStream.cpp",
        "source/utils/event/EventHeader.cpp",
        "source/utils/event/EventMessage.cpp",
        "source/utils/event/EventStreamBuf.cpp",
        "source/utils/event/EventStreamDecoder.cpp",
        "source/utils/event/EventStreamEncoder.cpp",
        "source/utils/event/EventStreamErrors.cpp",
        "source/utils/json/JsonSerializer.cpp",
        "source/utils/logging/AWSLogging.cpp",
        "source/utils/logging/ConsoleLogSystem.cpp",
        "source/utils/logging/DefaultLogSystem.cpp",
        "source/utils/logging/FormattedLogSystem.cpp",
        "source/utils/logging/LogLevel.cpp",
        "source/utils/memory/AWSMemory.cpp",
        "source/utils/memory/stl/SimpleStringStream.cpp",
        "source/utils/stream/ConcurrentStreamBuf.cpp",
        "source/utils/stream/PreallocatedStreamBuf.cpp",
        "source/utils/stream/ResponseStream.cpp",
        "source/utils/stream/SimpleStreamBuf.cpp",
        "source/utils/threading/Executor.cpp",
        "source/utils/threading/ReaderWriterLock.cpp",
        "source/utils/threading/Semaphore.cpp",
        "source/utils/threading/ThreadTask.cpp",
        "source/utils/xml/XmlSerializer.cpp",
    ],
    LIBDEPS=[
        '$BUILD_DIR/third_party/shim_aws_c_common',
        '$BUILD_DIR/third_party/shim_aws_c_event_stream',
        '$BUILD_DIR/third_party/shim_aws_checksums',
    ],
)
