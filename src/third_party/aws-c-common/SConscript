# -*- mode: python -*-

Import('env')

env = env.Clone()

env.Prepend(CPPPATH=[
    'include',
])

env.Library(
    target= "aws-c-common",
    source= [
        "source/allocator.c",
        "source/allocator_sba.c",
        "source/array_list.c",
        "source/assert.c",
        "source/byte_buf.c",
        "source/cache.c",
        "source/codegen.c",
        "source/command_line_parser.c",
        "source/common.c",
        "source/condition_variable.c",
        "source/date_time.c",
        "source/device_random.c",
        "source/encoding.c",
        "source/error.c",
        "source/fifo_cache.c",
        "source/hash_table.c",
        "source/lifo_cache.c",
        "source/linked_hash_table.c",
        "source/logging.c",
        "source/log_channel.c",
        "source/log_formatter.c",
        "source/log_writer.c",
        "source/lru_cache.c",
        "source/math.c",
        "source/memtrace.c",
        "source/priority_queue.c",
        "source/process_common.c",
        "source/ref_count.c",
        "source/resource_name.c",
        "source/ring_buffer.c",
        "source/statistics.c",
        "source/string.c",
        "source/task_scheduler.c",
        "source/uuid.c",
        "source/xml_parser.c",
#        "source/android/logging.c",
#        "source/arch/arm/asm/cpuid.c",
        "source/arch/arm/msvc/cpuid.c",
        "source/arch/generic/cpuid.c",
        "source/arch/intel/cpuid.c",
        "source/arch/intel/encoding_avx2.c",
#        "source/arch/intel/asm/cpuid.c",
        "source/arch/intel/msvc/cpuid.c",
#        "source/posix/clock.c",
#        "source/posix/condition_variable.c",
#        "source/posix/device_random.c",
#        "source/posix/environment.c",
#        "source/posix/mutex.c",
#        "source/posix/process.c",
#        "source/posix/rw_lock.c",
#        "source/posix/system_info.c",
#        "source/posix/thread.c",
#        "source/posix/time.c",
        "source/windows/clock.c",
        "source/windows/condition_variable.c",
        "source/windows/device_random.c",
        "source/windows/environment.c",
        "source/windows/mutex.c",
        "source/windows/process.c",
        "source/windows/rw_lock.c",
        "source/windows/system_info.c",
        "source/windows/thread.c",
        "source/windows/time.c",
    ],
)
